# link-ai

ä¸€ä¸ªåŸºäº **Fastify** æ„å»ºçš„å…¨åŠŸèƒ½ AI SaaS åç«¯ï¼Œå…·å¤‡å®Œæ•´ç”¨æˆ·ä½“ç³»ã€æµå¼å¯¹è¯èƒ½åŠ›å’Œæ•°æ®æŒä¹…åŒ–ã€‚

## æ ¸å¿ƒç‰¹æ€§

âœ¨ **ç”¨æˆ·ä½“ç³»** - åŸºäº PostgreSQL çš„æ³¨å†Œã€ç™»å½•ã€JWT é‰´æƒ  
ğŸš€ **AI å¯¹è¯** - é›†æˆ OpenAI/DeepSeekï¼Œæ”¯æŒ SSE æµå¼è¾“å‡º  
ğŸ’¾ **æ•°æ®æŒä¹…åŒ–** - è‡ªåŠ¨ä¿å­˜å¯¹è¯è®°å½•ï¼Œæ”¯æŒå†å²å›æº¯  
ğŸ”’ **ç”Ÿäº§çº§å®‰å…¨** - ç±»å‹å®‰å…¨ã€é™æµã€Token é»‘åå•  

## æŠ€æœ¯æ ˆ

| ç±»åˆ« | é€‰å‹ | ç‰ˆæœ¬ |
|------|------|------|
| è¿è¡Œæ—¶ | Node.js | 20+ (LTS) |
| æ¡†æ¶ | Fastify | 5.x |
| è¯­è¨€ | TypeScript | 5.x |
| æ•°æ®åº“ | PostgreSQL | 14+ |
| ORM | Prisma | æœ€æ–°ç‰ˆ |
| ç¼“å­˜ | Redis | 6.0+ |
| AI SDK | OpenAI Node SDK | æœ€æ–°ç‰ˆ |

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      å®¢æˆ·ç«¯å±‚                        â”‚
â”‚  å°ç¨‹åº / Web App / CLI å·¥å…·         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTP / SSE
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nexus AI Backend                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ç”¨æˆ·æ¨¡å— â”‚ â”‚ å¯¹è¯æ¨¡å— â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ é‰´æƒæ¨¡å— â”‚ â”‚ é™æµæ¨¡å— â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼          â–¼          â–¼
  PostgreSQL Redis   OpenAI/DeepSeek
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 20+
- PostgreSQL 14+
- Redis 6.0+

### å®‰è£…ä¾èµ–

```bash
npm install
```

### é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` åˆ° `.env`ï¼Œé…ç½®ä»¥ä¸‹å…³é”®é¡¹ï¼š

```env
# æ•°æ®åº“
DATABASE_URL=postgresql://user:password@localhost:5432/link_ai

# Redis
REDIS_URL=redis://localhost:6379

# JWT
JWT_SECRET=your-secret-key

# OpenAI
OPENAI_API_KEY=sk-xxx
```

### æ•°æ®åº“è¿ç§»

```bash
npx prisma migrate dev
```

### å¯åŠ¨æœåŠ¡

```bash
npm run dev
```

æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ `http://localhost:3000`

## é¡¹ç›®æ–‡æ¡£

- [æŠ€æœ¯è®¾è®¡æ–‡æ¡£](z_docs/æŠ€æœ¯æ–‡æ¡£.md) - ç³»ç»Ÿæ¶æ„ã€æ¨¡å—è®¾è®¡
- [è¯´æ˜æ–‡æ¡£](z_docs/è¯´æ˜æ–‡æ¡£.md) - é¡¹ç›®èƒŒæ™¯ã€åŠŸèƒ½å®šä½

## æ ¸å¿ƒæ¨¡å—

### è®¤è¯æ¨¡å—
- ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- JWT æ— çŠ¶æ€é‰´æƒ
- å¯†ç åŠ ç›å“ˆå¸Œå­˜å‚¨

### AI å¯¹è¯æ¨¡å—
- æµå¼å¯¹è¯æ¥å£ï¼ˆSSEï¼‰
- å¯¹è¯è®°å½•æŒä¹…åŒ–
- Token è®¡æ•°ç®¡ç†

### ç”¨æˆ·æ¨¡å—
- ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- é¢åº¦æŸ¥è¯¢
- ä½¿ç”¨ç»Ÿè®¡

### é™æµæ¨¡å—
- Redis è®¡æ•°å™¨
- ç”¨æˆ·çº§é€Ÿç‡é™åˆ¶
- IP çº§é˜²æŠ¤

## API ç¤ºä¾‹

### ç”¨æˆ·æ³¨å†Œ

```bash
POST /api/auth/register
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "secure-password"
}
```

### å‘èµ·å¯¹è¯ï¼ˆæµå¼ï¼‰

```bash
POST /api/chat/stream
Authorization: Bearer <token>
Content-Type: application/json

{
  "message": "ä½ å¥½ï¼Œå¸®æˆ‘è§£é‡Šä¸‹ TypeScript"
}
```

## å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
src/
  â”œâ”€â”€ routes/        # è·¯ç”±å®šä¹‰
  â”œâ”€â”€ services/      # ä¸šåŠ¡é€»è¾‘
  â”œâ”€â”€ middleware/    # ä¸­é—´ä»¶ï¼ˆé‰´æƒã€é™æµç­‰ï¼‰
  â”œâ”€â”€ db/           # æ•°æ®åº“æ“ä½œ
  â””â”€â”€ types/        # TypeScript ç±»å‹å®šä¹‰
```

### å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»º
npm run build

# ç”Ÿäº§è¿è¡Œ
npm start

# æ•°æ®åº“è¿ç§»
npx prisma migrate dev

# Prisma Studio (æ•°æ®åº“å¯è§†åŒ–å·¥å…·)
npx prisma studio
```

## è®¸å¯è¯

MIT

---

**é¡¹ç›®ä»“åº“**: [github.com/refrain2333/link-ai](https://github.com/refrain2333/link-ai)
